(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{145:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var i=a(5155),r=a(2115),s=a(5239),l=a(3457),o=a(512),n=a(8839),d=a(6910),c=a(63);function u(e){let{product:t}=e,{user:a}=(0,n.A)(),u=(0,c.useRouter)(),[h,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),w=(0,d.S)(),v=async()=>{if(!a)return void u.push("/auth");m(!0);try{let{data:e}=await w.from("cart_items").select("*").eq("user_id",a.id).eq("product_id",t.id).single();e?await w.from("cart_items").update({quantity:e.quantity+1,updated_at:new Date().toISOString()}).eq("id",e.id):await w.from("cart_items").insert({user_id:a.id,product_id:t.id,quantity:1}),window.location.reload()}catch(e){console.error("Error adding to cart:",e)}finally{m(!1)}},y=async()=>{if(!a)return void u.push("/auth");f(!0);try{let{data:e}=await w.from("wishlist_items").select("*").eq("user_id",a.id).eq("product_id",t.id).single();e?(await w.from("wishlist_items").delete().eq("id",e.id),g(!1)):(await w.from("wishlist_items").insert({user_id:a.id,product_id:t.id}),g(!0))}catch(e){console.error("Error toggling wishlist:",e)}finally{f(!1)}};return(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 overflow-hidden group transform hover:scale-105 hover:-translate-y-2",children:[(0,i.jsxs)("div",{className:"relative overflow-hidden",children:[(0,i.jsx)(s.default,{src:t.image,alt:t.name,width:400,height:300,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,i.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:(0,i.jsx)("button",{onClick:y,disabled:p,className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-all duration-300 hover:scale-110",children:(0,i.jsx)(l.A,{className:"w-4 h-4 ".concat(x?"text-red-500 fill-current":"text-red-500")})})}),t.featured&&(0,i.jsx)("span",{className:"absolute top-3 left-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold animate-pulse",children:"Featured"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-2 line-clamp-1",children:t.name}),(0,i.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("span",{className:"text-2xl font-bold text-orange-600",children:["â‚¹",t.price.toLocaleString()]}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[t.quantity," in stock"]})]}),(0,i.jsxs)("button",{onClick:v,disabled:0===t.quantity||h,className:"w-full bg-gradient-to-r from-orange-500 to-yellow-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-yellow-600 transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95",children:[(0,i.jsx)(o.A,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:h?"Adding...":0===t.quantity?"Out of Stock":"Add to Cart"})]})]})]})}},1093:(e,t,a)=>{Promise.resolve().then(a.bind(a,145)),Promise.resolve().then(a.t.bind(a,2619,23))},6910:(e,t,a)=>{"use strict";a.d(t,{S:()=>s});var i=a(5040),r=a(8760);(0,i.UU)("https://ifpvypovzipupnjjeois.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcHZ5cG92emlwdXBuamplb2lzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTQ3OTgsImV4cCI6MjA3NDI3MDc5OH0.3maRUIRxrWDEkl6NmH0sRRT7SdxaZAc449UkZhon9FU");let s=()=>(0,r.createClientComponentClient)()},8839:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,Providers:()=>o});var i=a(5155),r=a(2115),s=a(6910);let l=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[n,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),h=(0,s.S)(),m=async()=>{if(!a)return;let{data:e}=await h.from("profiles").select("*").eq("id",a.id).single();e&&d(e)};(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await h.auth.getUser();o(e),e&&await m(),u(!1)})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{var a;o(null!=(a=null==t?void 0:t.user)?a:null),(null==t?void 0:t.user)?await m():d(null),u(!1)});return()=>e.unsubscribe()},[]);let p=async()=>{await h.auth.signOut(),o(null),d(null)};return(0,i.jsx)(l.Provider,{value:{user:a,profile:n,loading:c,signOut:p,refreshProfile:m},children:t})}let n=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[760,946,36,441,255,358],()=>e(e.s=1093)),_N_E=e.O()}]);