(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{1016:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2488:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var r=t(5155),a=t(2115),l=t(63),c=t(5239),i=t(6983),n=t(7816),d=t(6617),o=t(6398),u=t(1016),x=t(8839),h=t(6910);function m(){let{user:e}=(0,x.A)(),s=(0,l.useRouter)(),[t,m]=(0,a.useState)([]),[p,g]=(0,a.useState)(!0),y=(0,h.S)();(0,a.useEffect)(()=>{if(!e)return void s.push("/auth");j()},[e]);let j=async()=>{if(!e)return;let{data:s}=await y.from("orders").select("\n        *,\n        order_items(\n          *,\n          product:products(*)\n        )\n      ").eq("user_id",e.id).order("created_at",{ascending:!1});s&&m(s),g(!1)};return p?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]})})}):0===t.length?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)(d.A,{className:"w-24 h-24 text-gray-400 mx-auto mb-6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"No orders yet"}),(0,r.jsx)("p",{className:"text-gray-500 mb-8",children:"Start shopping to see your orders here"}),(0,r.jsx)("a",{href:"/products",className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-8 py-3 rounded-full hover:from-orange-600 hover:to-yellow-600 transition-all duration-300 font-semibold",children:"Browse Products"})]})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"My Orders"}),(0,r.jsx)("div",{className:"space-y-6",children:t.map(e=>{var s;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Order #",e.id.slice(0,8)]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Placed on ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ".concat((e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status)),children:[(e=>{switch(e){case"pending":return(0,r.jsx)(i.A,{className:"w-5 h-5 text-yellow-500"});case"confirmed":return(0,r.jsx)(n.A,{className:"w-5 h-5 text-blue-500"});case"processing":return(0,r.jsx)(d.A,{className:"w-5 h-5 text-purple-500"});case"shipped":return(0,r.jsx)(o.A,{className:"w-5 h-5 text-green-500"});case"delivered":return(0,r.jsx)(n.A,{className:"w-5 h-5 text-green-600"});case"cancelled":return(0,r.jsx)(u.A,{className:"w-5 h-5 text-red-500"});default:return(0,r.jsx)(i.A,{className:"w-5 h-5 text-gray-500"})}})(e.status),(0,r.jsx)("span",{className:"capitalize",children:e.status})]}),(0,r.jsxs)("span",{className:"text-lg font-bold text-orange-600",children:["₹",e.total_amount.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Customer:"})," ",e.customer_name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Phone:"})," ",e.customer_phone]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Address:"})," ",e.customer_address]})})]})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Order Items"}),(0,r.jsx)("div",{className:"space-y-4",children:null==(s=e.order_items)?void 0:s.map(e=>{var s,t,a;return(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(c.default,{src:(null==(s=e.product)?void 0:s.image)||"",alt:(null==(t=e.product)?void 0:t.name)||"",width:60,height:60,className:"w-15 h-15 object-cover rounded-lg"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h5",{className:"font-medium text-gray-800",children:null==(a=e.product)?void 0:a.name}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Quantity: ",e.quantity]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-800",children:["₹",(e.price*e.quantity).toLocaleString()]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["₹",e.price.toLocaleString()," each"]})]})]},e.id)})})]})]},e.id)})})]})})}},6398:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},6480:(e,s,t)=>{Promise.resolve().then(t.bind(t,2488))},6617:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},6910:(e,s,t)=>{"use strict";t.d(s,{S:()=>l});var r=t(5040),a=t(8760);(0,r.UU)("https://ifpvypovzipupnjjeois.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcHZ5cG92emlwdXBuamplb2lzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTQ3OTgsImV4cCI6MjA3NDI3MDc5OH0.3maRUIRxrWDEkl6NmH0sRRT7SdxaZAc449UkZhon9FU");let l=()=>(0,a.createClientComponentClient)()},6983:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7816:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8839:(e,s,t)=>{"use strict";t.d(s,{A:()=>n,Providers:()=>i});var r=t(5155),a=t(2115),l=t(6910);let c=(0,a.createContext)(void 0);function i(e){let{children:s}=e,[t,i]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0),x=(0,l.S)(),h=async()=>{if(!t)return;let{data:e}=await x.from("profiles").select("*").eq("id",t.id).single();e&&d(e)};(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await x.auth.getUser();i(e),e&&await h(),u(!1)})();let{data:{subscription:e}}=x.auth.onAuthStateChange(async(e,s)=>{var t;i(null!=(t=null==s?void 0:s.user)?t:null),(null==s?void 0:s.user)?await h():d(null),u(!1)});return()=>e.unsubscribe()},[]);let m=async()=>{await x.auth.signOut(),i(null),d(null)};return(0,r.jsx)(c.Provider,{value:{user:t,profile:n,loading:o,signOut:m,refreshProfile:h},children:s})}let n=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[760,946,441,255,358],()=>e(e.s=6480)),_N_E=e.O()}]);