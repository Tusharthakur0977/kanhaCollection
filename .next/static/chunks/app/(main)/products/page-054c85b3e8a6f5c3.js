(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{145:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(5155),s=a(2115),i=a(5239),l=a(3457),o=a(512),n=a(8839),c=a(6910),d=a(63);function u(e){let{product:t}=e,{user:a}=(0,n.A)(),u=(0,d.useRouter)(),[h,m]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),y=(0,c.S)(),v=async()=>{if(!a)return void u.push("/auth");m(!0);try{let{data:e}=await y.from("cart_items").select("*").eq("user_id",a.id).eq("product_id",t.id).single();e?await y.from("cart_items").update({quantity:e.quantity+1,updated_at:new Date().toISOString()}).eq("id",e.id):await y.from("cart_items").insert({user_id:a.id,product_id:t.id,quantity:1}),window.location.reload()}catch(e){console.error("Error adding to cart:",e)}finally{m(!1)}},w=async()=>{if(!a)return void u.push("/auth");x(!0);try{let{data:e}=await y.from("wishlist_items").select("*").eq("user_id",a.id).eq("product_id",t.id).single();e?(await y.from("wishlist_items").delete().eq("id",e.id),f(!1)):(await y.from("wishlist_items").insert({user_id:a.id,product_id:t.id}),f(!0))}catch(e){console.error("Error toggling wishlist:",e)}finally{x(!1)}};return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-500 overflow-hidden group transform hover:scale-105 hover:-translate-y-2",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden",children:[(0,r.jsx)(i.default,{src:t.image,alt:t.name,width:400,height:300,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0",children:(0,r.jsx)("button",{onClick:w,disabled:p,className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-all duration-300 hover:scale-110",children:(0,r.jsx)(l.A,{className:"w-4 h-4 ".concat(g?"text-red-500 fill-current":"text-red-500")})})}),t.featured&&(0,r.jsx)("span",{className:"absolute top-3 left-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold animate-pulse",children:"Featured"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-2 line-clamp-1",children:t.name}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-orange-600",children:["â‚¹",t.price.toLocaleString()]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[t.quantity," in stock"]})]}),(0,r.jsxs)("button",{onClick:v,disabled:0===t.quantity||h,className:"w-full bg-gradient-to-r from-orange-500 to-yellow-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-yellow-600 transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:h?"Adding...":0===t.quantity?"Out of Stock":"Add to Cart"})]})]})]})}},512:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5105).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3328:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var r=a(5155),s=a(2115),i=a(5105);let l=(0,i.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),o=(0,i.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var n=a(145);function c(e){let{products:t,categories:a}=e,[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)("all"),[h,m]=(0,s.useState)("name"),p=t.filter(e=>{let t=e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase()),a="all"===d||e.category_id===d;return t&&a}).sort((e,t)=>{switch(h){case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;case"name":return e.name.localeCompare(t.name);default:return 0}});return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Our Products"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our complete collection of spiritual and devotional items"})]}),(0,r.jsx)("div",{className:"mb-8 bg-white p-6 rounded-xl shadow-md",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(l,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search products...",value:i,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"all",children:"All Categories"}),a.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"name",children:"Sort by Name"}),(0,r.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:p.map(e=>(0,r.jsx)(n.default,{product:e},e.id))}),0===p.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(o,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})}},3457:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5105).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6910:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var r=a(5040),s=a(8760);(0,r.UU)("https://ifpvypovzipupnjjeois.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcHZ5cG92emlwdXBuamplb2lzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTQ3OTgsImV4cCI6MjA3NDI3MDc5OH0.3maRUIRxrWDEkl6NmH0sRRT7SdxaZAc449UkZhon9FU");let i=()=>(0,s.createClientComponentClient)()},7851:(e,t,a)=>{Promise.resolve().then(a.bind(a,3328))},8839:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,Providers:()=>o});var r=a(5155),s=a(2115),i=a(6910);let l=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[n,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),h=(0,i.S)(),m=async()=>{if(!a)return;let{data:e}=await h.from("profiles").select("*").eq("id",a.id).single();e&&c(e)};(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await h.auth.getUser();o(e),e&&await m(),u(!1)})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{var a;o(null!=(a=null==t?void 0:t.user)?a:null),(null==t?void 0:t.user)?await m():c(null),u(!1)});return()=>e.unsubscribe()},[]);let p=async()=>{await h.auth.signOut(),o(null),c(null)};return(0,r.jsx)(l.Provider,{value:{user:a,profile:n,loading:d,signOut:p,refreshProfile:m},children:t})}let n=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[760,946,441,255,358],()=>e(e.s=7851)),_N_E=e.O()}]);