(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},508:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5105).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1038:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var s=r(5155),a=r(2115),n=r(2619),l=r.n(n),i=r(63),o=r(3457),d=r(5105);let c=(0,d.A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var u=r(512),h=r(508);let x=(0,d.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var m=r(5229);let p=(0,d.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var f=r(8839),g=r(6910);function y(){let{user:e,profile:t,signOut:r}=(0,f.A)(),n=(0,i.usePathname)(),[d,y]=(0,a.useState)(0),[b,v]=(0,a.useState)(0),[j,w]=(0,a.useState)(!1),N=(0,g.S)();(0,a.useEffect)(()=>{e&&k()},[e]);let k=async()=>{if(!e)return;let[t,r]=await Promise.all([N.from("cart_items").select("quantity").eq("user_id",e.id),N.from("wishlist_items").select("id").eq("user_id",e.id)]);t.data&&y(t.data.reduce((e,t)=>e+t.quantity,0)),r.data&&v(r.data.length)};return(0,s.jsx)("nav",{className:"bg-gradient-to-r from-orange-500 to-yellow-600 shadow-lg sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-6 h-6 text-orange-500",fill:"currentColor"})}),(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"Kanha Collection"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-1 px-3 py-2 rounded-md transition-colors ".concat("/"===n?"bg-white text-orange-600":"text-white hover:bg-orange-400"),children:[(0,s.jsx)(c,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Home"})]}),(0,s.jsx)(l(),{href:"/products",className:"px-3 py-2 rounded-md transition-colors ".concat("/products"===n?"bg-white text-orange-600":"text-white hover:bg-orange-400"),children:"Products"}),(0,s.jsx)(l(),{href:"/about",className:"px-3 py-2 rounded-md transition-colors ".concat("/about"===n?"bg-white text-orange-600":"text-white hover:bg-orange-400"),children:"About"})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{href:"/wishlist",className:"relative p-2 text-white hover:bg-orange-400 rounded-md transition-colors",children:[(0,s.jsx)(o.A,{className:"w-6 h-6"}),b>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold",children:b})]}),(0,s.jsxs)(l(),{href:"/cart",className:"relative p-2 text-white hover:bg-orange-400 rounded-md transition-colors",children:[(0,s.jsx)(u.A,{className:"w-6 h-6"}),d>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold",children:d})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 p-2 text-white hover:bg-orange-400 rounded-md transition-colors",children:[(0,s.jsx)(h.A,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-sm",children:(null==t?void 0:t.full_name)||"User"})]}),(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[(0,s.jsx)(l(),{href:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-gray-100",children:"Profile"}),(0,s.jsx)(l(),{href:"/orders",className:"block px-4 py-2 text-gray-800 hover:bg-gray-100",children:"My Orders"}),(null==t?void 0:t.is_admin)&&(0,s.jsx)(l(),{href:"/admin",className:"block px-4 py-2 text-gray-800 hover:bg-gray-100",children:"Admin Panel"}),(0,s.jsxs)("button",{onClick:r,className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 flex items-center space-x-2",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Sign Out"})]})]})]})]}):(0,s.jsx)(l(),{href:"/auth",className:"bg-white text-orange-600 px-4 py-2 rounded-md hover:bg-gray-100 transition-colors font-semibold",children:"Sign In"})}),(0,s.jsx)("button",{onClick:()=>w(!j),className:"md:hidden p-2 text-white hover:bg-orange-400 rounded-md transition-colors",children:j?(0,s.jsx)(m.A,{className:"w-6 h-6"}):(0,s.jsx)(p,{className:"w-6 h-6"})})]}),j&&(0,s.jsx)("div",{className:"md:hidden py-4 border-t border-orange-400",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)(l(),{href:"/",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"Home"}),(0,s.jsx)(l(),{href:"/products",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"Products"}),(0,s.jsx)(l(),{href:"/about",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"About"}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{href:"/wishlist",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md flex items-center space-x-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Wishlist (",b,")"]})]}),(0,s.jsxs)(l(),{href:"/cart",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Cart (",d,")"]})]}),(0,s.jsx)(l(),{href:"/profile",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"Profile"}),(0,s.jsx)(l(),{href:"/orders",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"My Orders"}),(null==t?void 0:t.is_admin)&&(0,s.jsx)(l(),{href:"/admin",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"Admin Panel"}),(0,s.jsx)("button",{onClick:r,className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md text-left",children:"Sign Out"})]}):(0,s.jsx)(l(),{href:"/auth",className:"text-white hover:bg-orange-400 px-3 py-2 rounded-md",children:"Sign In"})]})})]})})}},3011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(2115);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3040:(e,t,r)=>{Promise.resolve().then(r.bind(r,1038))},5105:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{color:l="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:c="",children:u,...h}=r;return(0,s.createElement)("svg",{ref:n,...a,width:i,height:i,stroke:l,strokeWidth:d?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),c].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(e),r}},5229:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6910:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var s=r(5040),a=r(8760);(0,s.UU)("https://ifpvypovzipupnjjeois.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcHZ5cG92emlwdXBuamplb2lzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTQ3OTgsImV4cCI6MjA3NDI3MDc5OH0.3maRUIRxrWDEkl6NmH0sRRT7SdxaZAc449UkZhon9FU");let n=()=>(0,a.createClientComponentClient)()},8839:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,Providers:()=>i});var s=r(5155),a=r(2115),n=r(6910);let l=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),h=(0,n.S)(),x=async()=>{if(!r)return;let{data:e}=await h.from("profiles").select("*").eq("id",r.id).single();e&&d(e)};(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await h.auth.getUser();i(e),e&&await x(),u(!1)})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{var r;i(null!=(r=null==t?void 0:t.user)?r:null),(null==t?void 0:t.user)?await x():d(null),u(!1)});return()=>e.unsubscribe()},[]);let m=async()=>{await h.auth.signOut(),i(null),d(null)};return(0,s.jsx)(l.Provider,{value:{user:r,profile:o,loading:c,signOut:m,refreshProfile:x},children:t})}let o=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[760,36,441,255,358],()=>e(e.s=3040)),_N_E=e.O()}]);